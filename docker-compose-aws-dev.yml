services:
  cudl-tei-processing:
    extends:
      file: docker-compose-base.yml
      service: cudl-tei-processing
    environment:
      ENVIRONMENT: aws-local
      AWS_ACCESS_KEY_ID: ${AWS_ACCESS_KEY_ID}
      AWS_SECRET_ACCESS_KEY: ${AWS_SECRET_ACCESS_KEY}
      AWS_SESSION_TOKEN: ${AWS_SESSION_TOKEN}
      ANT_TARGET: ${ANT_TARGET:-full}
      SEARCH_HOST: host.docker.internal
      SEARCH_PORT: 80
      SEARCH_COLLECTION_PATH: collections
    ports:
      - 9000:8080
